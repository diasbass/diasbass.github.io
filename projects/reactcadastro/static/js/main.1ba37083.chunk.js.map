{"version":3,"sources":["Header.js","ProductList.js","FormValidator.js","Formulario.js","App.js","index.js"],"names":["Header","className","href","id","TableHead","TableBody","props","linhas","product","map","linha","index","key","nome","curso","preco","onClick","removeProduto","ProductList","this","console","log","Component","FormValidator","validacoes","state","validacao","valido","forEach","regra","campoValor","campo","toString","args","metodo","validador","validoQuando","isInvalid","message","mensagem","isValid","Formulario","escutadorDeInput","event","target","name","value","setState","submitFormulario","valida","escutadorDeSubmit","stateInicial","filter","elem","min","max","htmlFor","type","onChange","App","produto","posAtual","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1ba37083.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Header = () => {\r\n  return(\r\n    <nav>\r\n    <div className=\"nav-wrapper indigo lighten-1\">\r\n      <a href=\"/\" className=\"brand-logo\">Cadastro</a>\r\n      <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n        <li><a href=\"/\">Autores</a></li>\r\n        <li><a href=\"/\">Cursos</a></li>\r\n        <li><a href=\"/\">Sobre</a></li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n  )\r\n}\r\n\r\nexport default Header;","import React, { Component, Fragment } from 'react';\r\n\r\nconst TableHead = () => {  \r\n    return(\r\n      <thead>\r\n        <tr>\r\n          <th>Autores</th>\r\n          <th>Cursos</th>\r\n          <th>Preços</th>\r\n          <th>Remover</th>\r\n        </tr>\r\n      </thead>\r\n    )\r\n}\r\n\r\nconst TableBody = props => {  \r\n  const linhas = props.product.map((linha, index) => {\r\n    return(\r\n      <tr key={index}>\r\n        <td>{linha.nome}</td>\r\n        <td>{linha.curso}</td>\r\n        <td>{linha.preco}</td>\r\n        <td><button className=\"waves-effect waves-light btn red lighten-1\" onClick = { () => { props.removeProduto(index) } }>Remover</button></td>\r\n      </tr>\r\n    )\r\n  });\r\n\r\n  return(\r\n    <tbody>\r\n      {linhas}\r\n    </tbody>\r\n  )\r\n}\r\n\r\nclass ProductList extends Component {\r\n  render(){\r\n    const { product, removeProduto } = this.props;\r\n    console.log( product )\r\n    return(\r\n      <Fragment>\r\n        <table className=\"centered highlight\">\r\n          <TableHead />\r\n          <TableBody product={product} removeProduto={removeProduto} />\r\n        </table>\r\n      </Fragment>\r\n    ) \r\n  }  \r\n}\r\n\r\nexport default ProductList;","import validador from 'validator';\r\n\r\nclass FormValidator {\r\n  constructor(validacoes){\r\n    this.validacoes = validacoes;\r\n  }\r\n  valida(state){\r\n    let validacao = this.valido();\r\n\r\n    this.validacoes.forEach(regra => {\r\n      const campoValor = state[regra.campo.toString()];\r\n      const args = regra.args || [];\r\n      const metodoValidacao = typeof regra.metodo === 'string' ? validador[regra.metodo] : regra.metodo;\r\n\r\n      if(metodoValidacao(campoValor, ...args, state) !== regra.validoQuando){\r\n        validacao[regra.campo] = {\r\n          isInvalid: true,\r\n          message: regra.mensagem\r\n        }\r\n\r\n        validacao.isValid = false;\r\n      }\r\n    });\r\n    return validacao;\r\n  }\r\n\r\n  valido(){\r\n    const validacao = {}\r\n\r\n    this.validacoes.map(regra => (\r\n      validacao[regra.campo] = { isInvalid: false, message: ''}\r\n    ));\r\n\r\n    return { isValid: true, ...validacao};\r\n  }\r\n}\r\n\r\nexport default FormValidator","import React, { Component } from 'react';\r\nimport FormValidator from './FormValidator';\r\n\r\nclass Formulario extends Component {\r\n  constructor(props){\r\n    super(props);\r\n\r\n    this.validador = new FormValidator([\r\n      {\r\n        campo: 'nome',\r\n        metodo: 'isEmpty',\r\n        validoQuando: false,\r\n        mensagem: 'Entre com um nome'\r\n      },\r\n      {\r\n        campo: 'curso',\r\n        metodo: 'isEmpty',\r\n        validoQuando: false,\r\n        mensagem: 'Entre com um curso'\r\n      },\r\n      {\r\n        campo: 'preco',\r\n        metodo: 'isInt',\r\n        args: [{min: 0, max: 99999}],\r\n        validoQuando: true,\r\n        mensagem: 'Entre com um valor numérico'\r\n      }\r\n    ]);\r\n\r\n    this.stateInicial = {\r\n      nome: '',\r\n      curso: '',\r\n      preco: '',\r\n      validacao: this.validador.valido()\r\n    }\r\n    this.state = this.stateInicial;\r\n  }\r\n\r\n  escutadorDeInput = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name] : value\r\n    })\r\n  }\r\n\r\n  submitFormulario = () => {\r\n\r\n    const validacao = this.validador.valida(this.state);\r\n\r\n    if(validacao.isValid){\r\n      this.props.escutadorDeSubmit(this.state);\r\n      this.setState(this.stateInicial);\r\n    } else {\r\n      const {nome, curso, preco} = validacao;\r\n      const campos = [nome, curso, preco];\r\n\r\n      const camposInvalidos = campos.filter(elem => {\r\n        return elem.isInvalid;\r\n      })\r\n      camposInvalidos.forEach(console.log)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    const { nome, curso, preco } = this.state;\r\n    return(\r\n      <form>\r\n          <div className=\"row\">\r\n          <div className=\"input-field col s12\">\r\n          <h5>Novo cadastro</h5>\r\n          </div>\r\n          \r\n          <div className=\"input-field col s4\">\r\n          \r\n          <label className=\"input-field\" htmlFor=\"nome\">Nome</label>\r\n          <input\r\n              className=\"validate\"\r\n              id=\"nome\"\r\n              type=\"text\"\r\n              name=\"nome\"\r\n              value={nome}\r\n              onChange={this.escutadorDeInput} />\r\n          </div>\r\n\r\n          <div className=\"input-field col s4\">\r\n          <label className=\"input-field\" htmlFor=\"curso\">Curso</label>\r\n          <input\r\n              className=\"validate\"\r\n              id=\"curso\"\r\n              type=\"text\"\r\n              name=\"curso\"\r\n              value={curso}\r\n              onChange={this.escutadorDeInput} />\r\n          </div>\r\n\r\n          <div className=\"input-field col s4\">\r\n          <label className=\"input-field\" htmlFor=\"preco\">Preço</label>\r\n          <input\r\n              className=\"validate\"\r\n              id=\"preco\"\r\n              type=\"text\"\r\n              name=\"preco\"\r\n              value={preco}\r\n              onChange={this.escutadorDeInput} />\r\n          </div>\r\n          \r\n          <div className=\"input-field col s12\">\r\n          <button className=\"waves-effect waves-light btn indigo lighten-1\" type=\"button\" onClick={this.submitFormulario}>Salvar\r\n          </button>\r\n          </div>\r\n          \r\n          </div>\r\n      </form>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Formulario;","import React, { Component, Fragment } from 'react';\nimport 'materialize-css/dist/css/materialize.min.css';\n\nimport Header from './Header';\nimport ProductList from './ProductList';\nimport Formulario from './Formulario';\n\nclass App extends Component {\n  state = {\n    product : [\n      {\n        nome: 'Rodrigo',\n        curso: 'React',\n        preco: 'R$ 1000'\n      },\n      {\n        nome: 'Daniel',\n        curso: 'Java',\n        preco: 'R$ 99'\n      },\n      {\n        nome: 'Marcos',\n        curso: 'Design',\n        preco: 'R$ 150'\n      },\n      {\n        nome: 'Bruno',\n        curso: 'DevOps',\n        preco: 'R$ 100'\n      }\n    ],\n  };\n\n  removeProduto = index => {\n    const { product } = this.state;\n    this.setState(\n      {\n        product: product.filter((produto, posAtual) => {\n          //console.log(index, posAtual);\n          return posAtual !== index;\n        })\n      }\n    )\n  }\n\n  escutadorDeSubmit = product => {    \n    this.setState({\n      product: [...this.state.product, product]\n    })\n  }\n\n  render(){\n    return (\n      <Fragment>\n        <Header />\n        <div className=\"container\">\n        <ProductList product = {this.state.product} removeProduto = {this.removeProduto} />\n        <Formulario escutadorDeSubmit={this.escutadorDeSubmit} />\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}